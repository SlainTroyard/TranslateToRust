# Rustify 配置文件
# 
# 使用方法：
#   1. 将此文件放在项目根目录或 ~/.rustify.toml
#   2. API Key 建议放在 .env 文件中（参考 env-example.txt）
#
# 配置优先级：环境变量 > .env > rustify.toml > 默认值

[llm]
# 主翻译模型配置
model = "deepseek-chat"
# api_key = "..."          # 建议放在 .env: RUSTIFY_LLM_API_KEY=xxx
# base_url = "https://api.deepseek.com"
temperature = 1.0
top_p = 1.0
max_tokens = 8192

[analyzer]
# Analyzer 模型配置（用于深度分析和复杂推理）
# 如果不设置，默认使用 [llm] 的配置
model = "deepseek-reasoner"
# api_key = "..."          # 建议放在 .env: RUSTIFY_ANALYZER_API_KEY=xxx
temperature = 1.0
top_p = 1.0
max_tokens = 8192

[rust]
# Rust 工具链配置
cargo_bin = "cargo"
rustc_bin = "rustc"
edition = "2021"

# ============ 通用设置 ============
log_level = "INFO"

# ============ 修复次数配置 ============
# 这些值与比赛作品 TransFactor 相同
#
# max_fix_attempts: 
#   - Translator 编译错误修复次数
#   - Validator 逻辑错误修复次数（外循环）
max_fix_attempts = 10

# max_test_fix_attempts:
#   - Validator 语法错误修复次数（内循环）
max_test_fix_attempts = 20

# 并行翻译任务数（暂未完全支持）
parallel_tasks = 1

# 自定义 prompt 目录（可选）
# prompt_dirs = ["./custom_prompts"]
